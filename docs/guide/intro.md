# 介绍
为开发者提供最优体验的前端监控调试方案
> 开阳提供了完全不一样的监控模式
## 最大优势
实事求是的说，虽然有诸如轻量，扩展自由度高等优点，但只有一个优点，我认为是具备碾压性的优势的：`开阳永远不需要离开项目本身`
正常的监控系统（你应该知道我在说`sentry`）的开发流程大致如下
1. 打开一个专门的监控系统，申请一个项目，拿到key，在项目中引入`npm`包并调用，
2. 打包，再将`sourcemap`上传至平台，部署项目
3. 当错误发生时，信息上传错误平台，错误平台利用`webhook`，通过某办公软件通知对应的开发者
4. 开发者到错误平台，获得信息
乍一看，这个流程没有问题，没有什么可以优化的步骤，但事实并不如此，以第四步为例，你可能看到：

也可能看到:


也就是，即使监控平台给了错误信息与错误位置，也不一定能判断出错误原因，因为可能是上游造成错误，但到下游抛出。

如何解决？我会开始调试，流程可能是这样

1. 本地构建
2. 启动本地服务
3. 使用抓包工具去处理网络相关的问题
4. 模拟用户操作
5. 断点调试。

实际上，无论项目大小，这个流程都好像繁复了一点，开发者真正关心的，或者说真正能发现错误的步骤，只有在使用断点调试这一步

最优的体验是什么？假设一个项目部署在`www.x.com`，那其报错时，我只需要打开`www.x.com`，就可以直接知道错误分别是什么，分别有多少，哪些用户遇到问题，这个项目最近一个月/一星期错误率如何，然后打开控制台，就可以在源码`debug`，或者可以说：`监控系统等同于一个另类的控制台`

::: tip 运作原理
嗯，如果按照正常的思路，这是不太可能实现的，但实际上，这是完全可以的！`puppeteer`这个工具为其提供了可能，其可以连接到浏览器，当打开一些域名时（需要监控的项目），开阳会做两部分工作
1. 为`js`文件添加`sourcemap`，这个`sourcemap`可以在本地，也可以在专门的地方
2. 为`html`添加脚本，从而创建一个拥有图表/仪表盘/清单的弹层，
也就是我只需要打开这个项目对应的网页，所有调试/查询需要的东西都已经准备好了
:::


## 自定义
监控流程中可以自定义的，大概有这几部分
1. 浏览器上传数据，详见[插件]
2. 服务端需要定时执行的操作，如统计数据，详见[服务端]
3. 服务端供给查询的接口，详见[服务端]
4. 监控平台的视图，详见[自定义视图](./custom-view.md)

应该足够覆盖全部的需求了